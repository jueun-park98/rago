{
  "openapi" : "3.0.0",
  "info" : {
    "description" : "1Password Events API Specification.",
    "title" : "Events API",
    "version" : "1.0.0",
    "x-providerName" : "1password.com",
    "x-logo" : {
      "url" : "https://api.apis.guru/v2/cache/logo/https_upload.wikimedia.org_wikipedia_commons_thumb_e_e3_1password-logo.svg_1280px-1password-logo.svg.png"
    },
    "x-apisguru-categories" : [ "security" ],
    "x-serviceName" : "events",
    "x-origin" : [ {
      "format" : "openapi",
      "url" : "https://i.1password.com/media/1password-events-reporting/1password-events-api.yaml",
      "version" : "3.0"
    } ]
  },
  "servers" : [ {
    "url" : "https://events.1password.com",
    "description" : "1Password"
  }, {
    "url" : "https://events.1password.ca",
    "description" : "1Password CA"
  }, {
    "url" : "https://events.1password.eu",
    "description" : "1Password EU"
  }, {
    "url" : "https://events.ent.1password.com",
    "description" : "1Password Enterprise"
  } ],
  "paths" : {
    "/api/v1/signinattempts" : {
      "post" : {
        "tags" : [ "api-v1" ],
        "summary" : "Retrieves sign-in attempts",
        "description" : "This endpoint requires your JSON Web Token to have the *signinattempts* feature.",
        "operationId" : "getSignInAttempts",
        "requestBody" : {
          "$ref" : "#/components/requestBodies/SignInAttemptsRequest"
        },
        "responses" : {
          "200" : {
            "$ref" : "#/components/responses/SignInAttemptsResponse"
          },
          "default" : {
            "$ref" : "#/components/responses/GenericErrorResponse"
          },
          "401" : {
            "$ref" : "#/components/responses/UnauthorizedErrorResponse"
          }
        },
        "security" : [ {
          "jwtsa" : [ ]
        } ]
      }
    },
    "/api/auth/introspect" : {
      "get" : {
        "tags" : [ "auth" ],
        "summary" : "Performs introspection of the provided Bearer JWT token",
        "operationId" : "getAuthIntrospect",
        "responses" : {
          "200" : {
            "$ref" : "#/components/responses/IntrospectResponse"
          },
          "default" : {
            "$ref" : "#/components/responses/GenericErrorResponse"
          },
          "401" : {
            "$ref" : "#/components/responses/UnauthorizedErrorResponse"
          }
        },
        "security" : [ {
          "jwtsa" : [ ]
        } ]
      }
    },
    "/api/v1/itemusages" : {
      "post" : {
        "tags" : [ "api-v1" ],
        "summary" : "Retrieves item usages",
        "description" : "This endpoint requires your JSON Web Token to have the *itemusages* feature.",
        "operationId" : "getItemUsages",
        "requestBody" : {
          "$ref" : "#/components/requestBodies/ItemUsagesRequest"
        },
        "responses" : {
          "200" : {
            "$ref" : "#/components/responses/ItemUsagesResponse"
          },
          "default" : {
            "$ref" : "#/components/responses/GenericErrorResponse"
          },
          "401" : {
            "$ref" : "#/components/responses/UnauthorizedErrorResponse"
          }
        },
        "security" : [ {
          "jwtsa" : [ ]
        } ]
      }
    }
  },
  "components" : {
    "examples" : {
      "ResetCursor" : {
        "summary" : "Used for reseting the cursor",
        "value" : {
          "limit" : 100,
          "start_time" : "2021-06-11T16:32:50-03:00"
        }
      },
      "Cursor" : {
        "summary" : "Used for continued calling with a cursor",
        "value" : {
          "cursor" : "aGVsbG8hIGlzIGl0IG1lIHlvdSBhcmUgbG9va2luZyBmb3IK"
        }
      }
    },
    "requestBodies" : {
      "CursorRequest" : {
        "content" : {
          "application/json" : {
            "examples" : {
              "Continuing cursor" : {
                "$ref" : "#/components/examples/Cursor",
                "abs$ref" : "file:/E:/bachelor-thesis/SigTest/bachelor-thesis-jastadd/build/resources/main/1password.com-events-1.0.0.json#/components/examples/Cursor"
              },
              "Resetting cursor" : {
                "$ref" : "#/components/examples/ResetCursor",
                "abs$ref" : "file:/E:/bachelor-thesis/SigTest/bachelor-thesis-jastadd/build/resources/main/1password.com-events-1.0.0.json#/components/examples/ResetCursor"
              }
            },
            "schema" : {
              "oneOf" : [ {
                "$ref" : "#/components/schemas/Cursor"
              }, {
                "$ref" : "#/components/schemas/ResetCursor"
              } ]
            }
          }
        }
      },
      "ItemUsagesRequest" : {
        "$ref" : "#/components/requestBodies/CursorRequest"
      },
      "SignInAttemptsRequest" : {
        "$ref" : "#/components/requestBodies/CursorRequest"
      }
    },
    "responses" : {
      "ItemUsagesResponse" : {
        "description" : "Item usages response object",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/ItemUsageItems"
            }
          }
        }
      },
      "IntrospectResponse" : {
        "description" : "Introspection object",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/Introspection"
            }
          }
        }
      },
      "SignInAttemptsResponse" : {
        "description" : "Sign-in attempts response object",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/SignInAttemptItems"
            }
          }
        }
      },
      "UnauthorizedErrorResponse" : {
        "description" : "Unauthorized",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/Error"
            }
          }
        }
      },
      "GenericErrorResponse" : {
        "description" : "Generic error",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/Error"
            }
          }
        }
      }
    },
    "schemas" : {
      "SignInAttempt" : {
        "description" : "A single sign-in attempt object",
        "properties" : {
          "country" : {
            "description" : "Country ISO Code",
            "example" : "France",
            "type" : "string"
          },
          "client" : {
            "$ref" : "#/components/schemas/Client"
          },
          "target_user" : {
            "$ref" : "#/components/schemas/User"
          },
          "details" : {
            "$ref" : "#/components/schemas/Details"
          },
          "category" : {
            "example" : "firewall_failed",
            "type" : "string",
            "enum" : [ "success", "credentials_failed", "mfa_failed", "modern_version_failed", "firewall_failed", "firewall_reported_success" ]
          },
          "type" : {
            "example" : "continent_blocked",
            "type" : "string",
            "enum" : [ "credentials_ok", "mfa_ok", "password_secret_bad", "mfa_missing", "totp_disabled", "totp_bad", "totp_timeout", "u2f_disabled", "u2f_bad", "u2f_timout", "duo_disabled", "duo_bad", "duo_timeout", "duo_native_bad", "platform_secret_disabled", "platform_secret_bad", "platform_secret_proxy", "code_disabled", "code_bad", "code_timeout", "ip_blocked", "continent_blocked", "country_blocked", "anonymous_blocked", "all_blocked", "modern_version_missing", "modern_version_old" ]
          },
          "session_uuid" : {
            "$ref" : "#/components/schemas/UUID"
          },
          "uuid" : {
            "$ref" : "#/components/schemas/UUID"
          },
          "timestamp" : {
            "$ref" : "#/components/schemas/DateTimeRFC3339"
          }
        }
      },
      "User" : {
        "description" : "User object",
        "properties" : {
          "name" : {
            "description" : "Full name",
            "example" : "Jack O'Neill",
            "type" : "string"
          },
          "uuid" : {
            "$ref" : "#/components/schemas/UUID"
          },
          "email" : {
            "format" : "email",
            "type" : "string"
          }
        }
      },
      "Error" : {
        "properties" : {
          "Error" : {
            "properties" : {
              "Message" : {
                "description" : "The error message.",
                "type" : "string"
              }
            },
            "type" : "object"
          }
        },
        "type" : "object"
      },
      "ItemUsage" : {
        "description" : "A single item usage object",
        "properties" : {
          "used_version" : {
            "type" : "integer"
          },
          "item_uuid" : {
            "$ref" : "#/components/schemas/UUID"
          },
          "client" : {
            "$ref" : "#/components/schemas/Client"
          },
          "user" : {
            "$ref" : "#/components/schemas/User"
          },
          "uuid" : {
            "$ref" : "#/components/schemas/UUID"
          },
          "vault_uuid" : {
            "$ref" : "#/components/schemas/UUID"
          },
          "timestamp" : {
            "$ref" : "#/components/schemas/DateTimeRFC3339"
          }
        }
      },
      "Cursor" : {
        "description" : "Cursor",
        "properties" : {
          "cursor" : {
            "description" : "Cursor to fetch more data if available or continue the polling process if required",
            "example" : "aGVsbG8hIGlzIGl0IG1lIHlvdSBhcmUgbG9va2luZyBmb3IK",
            "type" : "string"
          }
        }
      },
      "Introspection" : {
        "properties" : {
          "IssuedAt" : {
            "$ref" : "#/components/schemas/DateTimeRFC3339"
          },
          "Features" : {
            "example" : [ "itemusages", "signinattempts" ],
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "UUID" : {
            "type" : "string"
          }
        },
        "type" : "object"
      },
      "CursorCollection" : {
        "description" : "Common cursor properties for collection responses",
        "allOf" : [ {
          "$ref" : "#/components/schemas/Cursor"
        }, {
          "properties" : {
            "has_more" : {
              "description" : "Whether there may still be more data to fetch using the returned cursor. If true, the subsequent request could still be empty.",
              "type" : "boolean"
            }
          }
        } ]
      },
      "ItemUsageItems" : {
        "description" : "An object wrapping cursor properties and a list of items usages",
        "allOf" : [ {
          "properties" : {
            "items" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/components/schemas/ItemUsage"
              }
            }
          }
        }, {
          "$ref" : "#/components/schemas/CursorCollection"
        } ]
      },
      "SignInAttemptItems" : {
        "description" : "An object wrapping cursor properties and a list of sign-in attempts",
        "allOf" : [ {
          "properties" : {
            "items" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/components/schemas/SignInAttempt"
              }
            }
          }
        }, {
          "$ref" : "#/components/schemas/CursorCollection"
        } ]
      },
      "Details" : {
        "description" : "Additional information about the sign-in attempt",
        "properties" : {
          "value" : {
            "description" : "For firewall prevented sign-ins, the value is the chosen continent, country, etc. that blocked the sign-in attempt",
            "example" : "Europe",
            "type" : "string"
          }
        }
      },
      "ResetCursor" : {
        "description" : "Reset cursor",
        "properties" : {
          "start_time" : {
            "$ref" : "#/components/schemas/DateTimeRFC3339"
          },
          "end_time" : {
            "$ref" : "#/components/schemas/DateTimeRFC3339"
          },
          "limit" : {
            "maximum" : 1000,
            "minimum" : 1,
            "type" : "number"
          }
        }
      },
      "Client" : {
        "description" : "Metadata gathered about the client",
        "properties" : {
          "app_name" : {
            "example" : "1Password Extension",
            "type" : "string"
          },
          "app_version" : {
            "example" : "20127",
            "type" : "string"
          },
          "platform_version" : {
            "description" : "Depending on the platform used, this can be the version of the browser that the client extension is installed, the model of computer that the native application is installed or the machine's CPU version that the CLI was installed",
            "type" : "string"
          },
          "os_version" : {
            "example" : "10.15.6",
            "type" : "string"
          },
          "platform_name" : {
            "example" : "Chrome",
            "type" : "string"
          },
          "os_name" : {
            "example" : "MacOSX",
            "type" : "string"
          },
          "ip_address" : {
            "example" : "13.227.95.22",
            "type" : "string"
          }
        }
      },
      "UUID" : {
        "example" : "56YE2TYN2VFYRLNSHKPW5NVT5E",
        "type" : "string"
      },
      "DateTimeRFC3339" : {
        "example" : "2020-06-11T16:32:50-03:00",
        "format" : "date-time",
        "type" : "string"
      }
    },
    "securitySchemes" : {
      "jwtsa" : {
        "type" : "http",
        "description" : "A JWT SA token issued to this service",
        "scheme" : "bearer",
        "bearerFormat" : "JWT-SA"
      }
    }
  }
}